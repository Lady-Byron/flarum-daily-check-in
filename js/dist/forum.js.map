{"version":3,"file":"forum.js","mappings":"MACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACxB,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,IAAOF,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,GCLRF,EAAwB,CAACM,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3ER,EAAwB,CAACc,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFf,EAAyBM,IACH,oBAAXa,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeL,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeL,EAAS,aAAc,CAAEe,OAAO,M,+BCLvD,MAAM,EAA+BC,OAAOC,KAAKC,OAAe,OCA1D,EAA+BF,OAAOC,KAAKC,OAAO,8B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,qB,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,2B,aCAzC,SAASC,EAAgBhB,EAAGiB,GAMzC,OALAD,EAAkBf,OAAOiB,gBAAkB,SAAyBlB,EAAGiB,GAErE,OADAjB,EAAEmB,UAAYF,EACPjB,GAGFgB,EAAgBhB,EAAGiB,GCLb,SAASG,EAAeC,EAAUC,GAC/CD,EAASd,UAAYN,OAAOsB,OAAOD,EAAWf,WAC9Cc,EAASd,UAAUiB,YAAcH,EACjCH,EAAeG,EAAUC,GCJ3B,MAAM,EAA+BT,OAAOC,KAAKC,OAAO,oB,aCEnCU,EAAAA,SAAAA,G,oFACnBC,OAAA,SAAOC,GACL,YAAMD,OAAN,UAAaC,I,EAGfC,UAAA,WACE,MAAO,mC,EAGTC,MAAA,WACE,OACE,SAAKD,UAAU,uCACZE,IAAIC,WAAWC,MAAM,0C,EAM5BC,iBAAA,SAAiBC,GACf,IAEMC,EAFaC,OAAM,MAACF,EAAAA,EAAO,IAC9BG,QAAQ,OAAQ,MACMC,MAAM,UAEzBC,EAAQ,GAKd,OAJAJ,EAAMK,SAAQ,SAACC,EAAMC,GACfA,GAAGH,EAAMI,KAAK,cAClBJ,EAAMI,KAAKF,MAENF,G,EAGTK,QAAA,WACE,IAAMC,EAAIf,IAAIgB,QAAQC,KAGhBC,EAAOC,OAAOJ,EAAEK,UAAU,2BAA6B,GAEvDC,EAAcF,OAAOnB,IAAIsB,MAAMF,UAAU,2BAA6B,GACtEG,EAAcJ,OAAOnB,IAAIsB,MAAMF,UAAU,0BAA4B,GACrEI,EAAcL,OAAOnB,IAAIsB,MAAMF,UAAU,qCAAuC,GAChFK,EAAcN,OAAOnB,IAAIsB,MAAMF,UAAU,uCAAyC,GAClFM,EAAcP,OAAOnB,IAAIsB,MAAMF,UAAU,mCAAqC,GAG9EO,EAAcD,EAAU,EAAIE,KAAKC,IAAIX,EAAMQ,GAAWR,EAGtDY,EAAcF,KAAKG,IAAI,EAAGJ,EAAU,GAAKC,KAAKG,IAAI,EAAGP,GACrDQ,EAAcJ,KAAKG,IAAI,EAAGJ,EAAU,GAAKC,KAAKG,IAAI,EAAGN,GACrDQ,EAAcV,EAAUO,EACxBI,EAAcb,EAAYW,EAE1BG,EAAcnC,IAAIsB,MAAMF,UAAU,kCAAoC,GACtEgB,EAAcpC,IAAIsB,MAAMF,UAAU,wCAA0C,GAG5EiB,EAAmBrC,IAAIsB,MAAMF,UAAU,6BACvCkB,OAA+C,IAArBD,EAG1BE,EAAc,SAACC,GACnB,IAAMC,EAAItB,OAAOqB,GAAKE,WAChBC,EAAON,GAAoB,GACjC,OAAKM,EACDA,EAAKC,SAAS,WAAmBD,EAAKpC,QAAQ,aAAckC,GACtDA,EAAV,IAAeE,EAFGF,GAMdI,EAAsB,SAACC,GAC3B,IAAKA,EAAK,MAAO,GACjB,IAAIC,EAAMD,EACPvC,QAAQ,YAAaD,OAAOY,IAC5BX,QAAQ,gBAAiBD,OAAOqB,IAChCpB,QAAQ,kBAAmBgC,EAAYlB,IACvCd,QAAQ,mBAAoBgC,EAAYP,IACxCzB,QAAQ,aAAcgC,EAAYL,IAClC3B,QAAQ,gBAAiBD,OAAOiB,IAChChB,QAAQ,iBAAkBD,OAAOwB,IACjCvB,QAAQ,WAAYD,OAAO2B,IAGxBe,EAAeV,EAAkBC,EAAYL,GAAc5B,OAAO2B,GAGxE,OAFMc,EAAIxC,QAAQ,cAAeyC,IAK7BC,EAAcJ,EAAoBV,GAClCe,EAAcL,EAAoBT,GAGlCe,EAAuBD,EAAa,gCAAmC,8BAE7E,OACE,SAAKpD,UAAU,cACb,SAAKA,UALoBmD,EAAc,iCAAmC,+BAKnCG,KAAKjD,iBAAiB8C,IAC7D,SAAKnD,UAAWqD,GAAsBC,KAAKjD,iBAAiB+C,M,EAjG/CvD,CAA2B0D,KCFXtE,OAAOC,KAAKC,OAAO,gB,ICInCU,EAAAA,SAAAA,G,oFACnBC,OAAA,SAAOC,GACL,YAAMD,OAAN,UAAaC,I,EAGfC,UAAA,WACE,MAAO,mC,EAGTC,MAAA,WACE,OAAQ,SAAKD,UAAU,sCAAsCE,IAAIC,WAAWC,MAAM,yC,EAGpFY,QAAA,WAEE,OACE,SAAKhB,UAAU,cACb,SAAKA,UAAU,kCAAkCE,IAAIC,WAAWC,MAAM,0C,EAjBzDP,CAA2B0D,KCGhDrD,IAAIsD,aAAaC,IAAI,iBAAiB,YACpCC,EAAAA,EAAAA,QAAOC,IAAAA,UAAqB,gBAAgB,SAASC,GACnD,GAAsB,OAAnB1D,IAAIgB,QAAQC,OAAqD,IAAtCjB,IAAIsB,MAAMF,UAAU,gBAAuB,CACvE,IASIuC,EATEC,EAAY5D,IAAI6D,QAAQvF,IAAI,aAE5BwF,EAAyB9D,IAAIgB,QAAQC,KAAKG,UAAU,0BACpD2C,EAAa/D,IAAIgB,QAAQC,KAAKG,UAAU,cACxC4C,EAAuBhE,IAAIgB,QAAQC,KAAKG,UAAU,wBAElD6C,GADajE,IAAIgB,QAAQC,KAAKG,UAAU,cACRpB,IAAIsB,MAAMF,UAAU,kCACtD8C,EAA8BlE,IAAIgB,QAAQC,KAAKG,UAAU,+BAGzD+C,GAFkBnE,IAAIgB,QAAQC,KAAKG,UAAU,mBAElC,iBAQf,GANe,QAAZwC,IAC4D,IAA1DM,EAA4BE,QAAQ,qBACnCD,EAAW,oBAID,IAAbJ,EAAkB,CACnBJ,EAAoB3D,IAAIC,WAAWC,MAAM,gCACzCwD,EAAMH,IAAIY,EAAUE,IAAAA,UAAiB,CACnCC,KAAM,kBACNxE,UAAW,+BACXyE,cAAe,qBACfC,GAAG,gBACHC,QAAS,WACPzE,IAAIgB,QAAQC,KAAKyD,KAAK,CAACX,YAAW,EAAMD,wBAA8C,IAAvBE,EAA4BF,EAAuB,EAAE,IAAIa,MAAK,WAC3H,IAAMC,EAAgC5E,IAAIsB,MAAMF,UAAU,iCACpDyD,EAAsC7E,IAAIsB,MAAMF,UAAU,uCAC1D0D,EAAoB9E,IAAIgB,QAAQC,KAAKG,UAAU,cAErD,GAAmC,KAAhCwD,GAA4E,KAAtCC,EACvC,GAAmC,IAAhCZ,EACD,IAAuB,IAApBa,EAA0B,CAC3B,IAAMC,EAAyB/E,IAAIsB,MAAMF,UAAU,0BAC7C4D,OAAyEC,IAAnDjF,IAAIsB,MAAMF,UAAU,6BAG5C8B,EAAa,GAEjB,GAAmC,KAAhC0B,EACD,KAAMM,EAAqBN,EAA8BrE,QAAQ,SAAUP,IAAIgB,QAAQC,KAAKG,UAAU,2BAC1EpB,IAAImF,OAAOC,KAAKC,IAAO,CAAEC,KAAM,WAAaJ,GAG1E,IAAyB,IAAtBF,GAAoE,KAAtCH,EAAyC,CAExE3B,GADYlD,IAAIsB,MAAMF,UAAU,8BAAgC,WACzCb,QAAQ,UAAWwE,GAE1C,IAAMQ,EAA2BV,EAAoCtE,QAAQ,WAAY2C,GACvDlD,IAAImF,OAAOC,KAAKC,IAAO,CAAEC,KAAM,WAAaC,SAGrDvF,IAAImF,OAAOC,KAAKC,IAAO,CAAEC,KAAM,SAAWtF,IAAIC,WAAWC,MAAM,uCAAuC,IAAIF,IAAIC,WAAWC,MAAM,6CAErH,IAAhC+D,KACgB,IAApBa,EACD9E,IAAIwF,MAAMJ,KAAKK,GAEfzF,IAAIwF,MAAMJ,KAAKM,SAMxB/B,GAAmB,IAEtB,IAAMgC,EAAmB3F,IAAIsB,MAAMF,UAAU,oBACvCwE,EAAwB5F,IAAIsB,MAAMF,UAAU,yBAE5B,IAAnBuE,GACDE,YAAW,WACTC,EAAE,kBAAkBC,UACpBH,QAGJjC,EAAoBG,GAAwB,EAAE9D,IAAIC,WAAWC,MAAM,qCAAsC,CAAC8F,MAAOlC,IAAyB9D,IAAIC,WAAWC,MAAM,sCAAuC,CAAC8F,MAAOlC,IAC9MJ,EAAMH,IAAIY,EAAUE,IAAAA,UAAiB,CACnCC,KAAM,wBACNxE,UAAW,8BACXyE,cAAe,qBACf0B,UAAU,GACTtC,GAAmB,Y","sources":["webpack://@ziiven/flarum-daily-check-in/webpack/bootstrap","webpack://@ziiven/flarum-daily-check-in/webpack/runtime/compat get default export","webpack://@ziiven/flarum-daily-check-in/webpack/runtime/define property getters","webpack://@ziiven/flarum-daily-check-in/webpack/runtime/hasOwnProperty shorthand","webpack://@ziiven/flarum-daily-check-in/webpack/runtime/make namespace object","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['extend']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['components/Button']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@ziiven/flarum-daily-check-in/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@ziiven/flarum-daily-check-in/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['components/Modal']\"","webpack://@ziiven/flarum-daily-check-in/./src/forum/components/checkInSuccessModal.js","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['utils/Stream']\"","webpack://@ziiven/flarum-daily-check-in/./src/forum/components/checkInFailedModal.js","webpack://@ziiven/flarum-daily-check-in/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Modal'];","import Modal from 'flarum/components/Modal';\n\nexport default class checkInResultModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n\n  className() {\n    return 'checkInResultModal Modal--small';\n  }\n\n  title() {\n    return (\n      <div className=\"checkInResultModal successTitleText\">\n        {app.translator.trans('ziven-checkin.forum.check-in-success')}\n      </div>\n    );\n  }\n\n  // 把字符串中的 \\n 处理成 <br/>。既支持字面量 \"\\n\"，也支持真实换行。\n  renderWithBreaks(str) {\n    const normalized = String(str ?? '')\n      .replace(/\\\\n/g, '\\n');       // 把字面量 \\n 变成真实换行符\n    const parts = normalized.split(/\\r?\\n/g);\n\n    const nodes = [];\n    parts.forEach((part, i) => {\n      if (i) nodes.push(<br />);\n      nodes.push(part);\n    });\n    return nodes;\n  }\n\n  content() {\n    const u = app.session.user;\n\n    // ---- 用户与站点配置 ----\n    const days = Number(u.attribute('totalContinuousCheckIn') || 0);\n\n    const baseMoney   = Number(app.forum.attribute('forumCheckinRewarMoney') || 0);\n    const baseExp     = Number(app.forum.attribute('forumCheckinRewardExp') || 0);\n    const bonusExpDay = Number(app.forum.attribute('forumCheckinStreakBonusExpPerDay') || 0);\n    const bonusMonDay = Number(app.forum.attribute('forumCheckinStreakBonusMoneyPerDay') || 0);\n    const capDays     = Number(app.forum.attribute('forumCheckinStreakBonusMaxDays') || 0);\n\n    // 有效参与加成的连续天数（考虑封顶）\n    const effDays     = capDays > 0 ? Math.min(days, capDays) : days;\n\n    // 连签从第2天起才有加成\n    const bonusExp    = Math.max(0, effDays - 1) * Math.max(0, bonusExpDay);\n    const bonusMoney  = Math.max(0, effDays - 1) * Math.max(0, bonusMonDay);\n    const totalExp    = baseExp + bonusExp;\n    const totalMoney  = baseMoney + bonusMoney;\n\n    const tplText     = app.forum.attribute('forumCheckinSuccessPromptText') || '';\n    const tplReward   = app.forum.attribute('forumCheckinSuccessPromptRewardText') || '';\n\n    // money 扩展支持\n    const moneyNameSetting = app.forum.attribute('antoinefr-money.moneyname'); // 可能是 \"金币\" 或 \"[money] 金币\"\n    const moneyExtPresent  = typeof moneyNameSetting !== 'undefined';\n\n    // 将金额按 money 扩展命名渲染\n    const renderMoney = (val) => {\n      const n = Number(val).toString();\n      const name = moneyNameSetting || '';\n      if (!name) return n;\n      if (name.includes('[money]')) return name.replace(/\\[money\\]/g, n);\n      return `${n} ${name}`;\n    };\n\n    // 占位符替换\n    const replacePlaceholders = (tpl) => {\n      if (!tpl) return '';\n      let out = tpl\n        .replace(/\\[days\\]/g, String(days))\n        .replace(/\\[eff_days\\]/g, String(effDays))\n        .replace(/\\[base_money\\]/g, renderMoney(baseMoney))\n        .replace(/\\[bonus_money\\]/g, renderMoney(bonusMoney))\n        .replace(/\\[money\\]/g, renderMoney(totalMoney))\n        .replace(/\\[base_exp\\]/g, String(baseExp))\n        .replace(/\\[bonus_exp\\]/g, String(bonusExp))\n        .replace(/\\[exp\\]/g, String(totalExp));\n\n      // [reward]：优先 money，否则 exp\n      const rewardString = moneyExtPresent ? renderMoney(totalMoney) : String(totalExp);\n      out = out.replace(/\\[reward\\]/g, rewardString);\n\n      return out;\n    };\n\n    const successText = replacePlaceholders(tplText);\n    const rewardText  = replacePlaceholders(tplReward);\n\n    const successTextClassName = successText ? 'checkInResultModal successText' : 'checkInResultModal hideText';\n    const rewardTextClassName  = rewardText ? 'checkInResultModal rewardText'  : 'checkInResultModal hideText';\n\n    return (\n      <div className=\"Modal-body\">\n        <div className={successTextClassName}>{this.renderWithBreaks(successText)}</div>\n        <div className={rewardTextClassName}>{this.renderWithBreaks(rewardText)}</div>\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['utils/Stream'];","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport Stream from 'flarum/utils/Stream';\n\nexport default class checkInResultModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n\n  className() {\n    return 'checkInResultModal Modal--small';\n  }\n\n  title() {\n    return (<div className=\"checkInResultModal failedTitleText\">{app.translator.trans('ziven-checkin.forum.check-in-failed')}</div>);\n  }\n\n  content() {\n    //\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"checkInResultModal successText\">{app.translator.trans('ziven-checkin.forum.try-again-later')}</div>\n      </div>\n    );\n  }\n}\n","import { extend } from 'flarum/extend';\r\nimport IndexPage from 'flarum/forum/components/IndexPage';\r\nimport Button from 'flarum/components/Button';\r\nimport Alert from 'flarum/common/components/Alert';\r\nimport checkInSuccessModal from './components/checkInSuccessModal';\r\nimport checkInFailedModal from './components/checkInFailedModal';\r\n\r\napp.initializers.add('ziven-checkin', () => {\r\n  extend(IndexPage.prototype, 'sidebarItems', function(items) {\r\n    if(app.session.user!==null && app.forum.attribute('allowCheckIn')===true){\r\n      const routeName = app.current.get('routeName');\r\n\r\n      const totalContinuousCheckIn = app.session.user.attribute(\"totalContinuousCheckIn\");\r\n      const canCheckin = app.session.user.attribute(\"canCheckin\");\r\n      const canCheckinContinuous = app.session.user.attribute(\"canCheckinContinuous\");\r\n      const serverData = app.session.user.attribute(\"serverDate\");\r\n      const forumCheckinSuccessPromptType = app.forum.attribute(\"forumCheckinSuccessPromptType\");\r\n      let checkInCompatibleExtensions = app.session.user.attribute(\"checkInCompatibleExtensions\");\r\n      let lastCheckinTime = app.session.user.attribute(\"lastCheckinTime\");\r\n      let checkinButtonText;\r\n      let itemName = \"forum-checkin\";\r\n\r\n      if(routeName===\"tag\"){\r\n        if(checkInCompatibleExtensions.indexOf(\"fof-follow-tags\")!==-1){\r\n            itemName = \"forum-checkin-1\";\r\n        }\r\n      }\r\n\r\n      if(canCheckin===true){\r\n        checkinButtonText = app.translator.trans('ziven-checkin.forum.check-in');\r\n        items.add(itemName, Button.component({\r\n          icon: 'fas fa-calendar',\r\n          className: 'Button CheckInButton--yellow',\r\n          itemClassName: 'App-primaryControl',\r\n          id:\"checkInButton\",\r\n          onclick: () => {\r\n            app.session.user.save({canCheckin:false,totalContinuousCheckIn:canCheckinContinuous===true?totalContinuousCheckIn+1:1}).then(() => {\r\n              const forumCheckinSuccessPromptText = app.forum.attribute(\"forumCheckinSuccessPromptText\");\r\n              const forumCheckinSuccessPromptRewardText = app.forum.attribute(\"forumCheckinSuccessPromptRewardText\");\r\n              const canCheckinRecheck = app.session.user.attribute(\"canCheckin\");\r\n\r\n              if(forumCheckinSuccessPromptText!==\"\" || forumCheckinSuccessPromptRewardText!==\"\"){\r\n                if(forumCheckinSuccessPromptType===1){\r\n                  if(canCheckinRecheck===false){\r\n                    const forumCheckinRewarMoney = app.forum.attribute(\"forumCheckinRewarMoney\");\r\n                    const moneyExtensionExist = app.forum.attribute('antoinefr-money.moneyname')!==undefined;\r\n\r\n                    let moneyName = \"\";\r\n                    let rewardText = \"\";\r\n\r\n                    if(forumCheckinSuccessPromptText!==\"\"){\r\n                      const checkInSuccessText = forumCheckinSuccessPromptText.replace('[days]', app.session.user.attribute(\"totalContinuousCheckIn\"));\r\n                      const successTextAlertKey = app.alerts.show(Alert, { type: 'success' }, checkInSuccessText);\r\n                    }\r\n\r\n                    if(moneyExtensionExist===true && forumCheckinSuccessPromptRewardText!==\"\"){\r\n                      moneyName = app.forum.attribute('antoinefr-money.moneyname') || '[money]';\r\n                      rewardText = moneyName.replace('[money]', forumCheckinRewarMoney);\r\n\r\n                      const checkInSuccessRewardText = forumCheckinSuccessPromptRewardText.replace('[reward]', rewardText);\r\n                      const successRewardTextAlertKey = app.alerts.show(Alert, { type: 'success' }, checkInSuccessRewardText);\r\n                    }\r\n                  }else{\r\n                    const failedTextAlertKey = app.alerts.show(Alert, { type: 'error' }, app.translator.trans('ziven-checkin.forum.check-in-failed')+\" \"+app.translator.trans('ziven-checkin.forum.try-again-later'));\r\n                  }\r\n                }else if(forumCheckinSuccessPromptType===2){\r\n                  if(canCheckinRecheck===false){\r\n                    app.modal.show(checkInSuccessModal);\r\n                  }else{\r\n                    app.modal.show(checkInFailedModal);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          }\r\n        }, checkinButtonText),50);\r\n\r\n        const forumAutoCheckIn = app.forum.attribute(\"forumAutoCheckin\");\r\n        const forumAutoCheckInDelay = app.forum.attribute(\"forumAutoCheckinDelay\");\r\n\r\n        if(forumAutoCheckIn===1){\r\n          setTimeout(function(){\r\n            $(\"#checkInButton\").click();\r\n          },forumAutoCheckInDelay);\r\n        }\r\n      }else{\r\n        checkinButtonText = totalContinuousCheckIn<=1?app.translator.trans('ziven-checkin.forum.checked-in-day', {count: totalContinuousCheckIn}):app.translator.trans('ziven-checkin.forum.checked-in-days', {count: totalContinuousCheckIn});\r\n        items.add(itemName, Button.component({\r\n          icon: 'fas fa-calendar-check',\r\n          className: 'Button CheckInButton--green',\r\n          itemClassName: 'App-primaryControl',\r\n          disabled: true\r\n        }, checkinButtonText),50);\r\n      }\r\n    }\r\n  });\r\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","create","constructor","checkInResultModal","oninit","vnode","className","title","app","translator","trans","renderWithBreaks","str","parts","String","replace","split","nodes","forEach","part","i","push","content","u","session","user","days","Number","attribute","baseMoney","forum","baseExp","bonusExpDay","bonusMonDay","capDays","effDays","Math","min","bonusExp","max","bonusMoney","totalExp","totalMoney","tplText","tplReward","moneyNameSetting","moneyExtPresent","renderMoney","val","n","toString","name","includes","replacePlaceholders","tpl","out","rewardString","successText","rewardText","rewardTextClassName","this","Modal","initializers","add","extend","IndexPage","items","checkinButtonText","routeName","current","totalContinuousCheckIn","canCheckin","canCheckinContinuous","forumCheckinSuccessPromptType","checkInCompatibleExtensions","itemName","indexOf","Button","icon","itemClassName","id","onclick","save","then","forumCheckinSuccessPromptText","forumCheckinSuccessPromptRewardText","canCheckinRecheck","forumCheckinRewarMoney","moneyExtensionExist","undefined","checkInSuccessText","alerts","show","Alert","type","checkInSuccessRewardText","modal","checkInSuccessModal","checkInFailedModal","forumAutoCheckIn","forumAutoCheckInDelay","setTimeout","$","click","count","disabled"],"sourceRoot":""}